#!/usr/bin/env bash

# This bash completions script was generated by
# completely (https://github.com/dannyben/completely)
# Modifying it manually is not recommended
<%= function_name %>() {
  local cur=${COMP_WORDS[COMP_CWORD]}

  case "$COMP_LINE" in    
% patterns.each do |pattern, words|
% next unless words
% clean_words = words.reject { |w| w =~ /^<.*>$/ }.join " "
% functions = words.filter_map { |w| func = w[/^<(.+)>$/, 1] ; "-A #{func}" if func }
% flags = functions.any? ? "#{functions.join ' '} -W" : "-W"
    '<%= pattern %>'*) COMPREPLY=($(compgen <%= flags %> "<%= clean_words %>" -- "$cur")) ;;
% end
  esac
}

complete -F <%= function_name %> <%= command %>
